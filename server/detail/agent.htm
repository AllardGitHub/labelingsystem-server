<html>
<head>
<script src="https://code.jquery.com/jquery-1.12.0.js"></script>
<script>
// read params via javascript
function getUrlVars() {
	var vars = {};
	var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
		vars[key] = value;
	});
	return vars;
}
var ID = getUrlVars()["id"];
console.info(ID);

$(document).ready(function() {
	var servlethost = "labeling.i3mainz.hs-mainz.de";
	//var servlethost = "localhost:8084";
	var url = "http://"+servlethost+"/api/v1/agents/"+ID;
	var uri = "http://"+servlethost+"/item/agent/"+ID;
	$.ajax({
	    url:url,
	    type: "GET",
		headers: {
			Accept : "application/json"
		},
	    async: false,
	    error:function(jqXHR, textStatus, errorThrown) {
	    	console.error(textStatus);
	    },
	    success:function(response) {
	    	try {
				response = JSON.parse(response);
			} catch (e) {}
	    	console.info(response);
	    	$("#content").append("<h1>Detailansicht "+ID+"</h1>");
			$("#content").append('<p>Resource: ' + response.agent.id[0] + '</p>');
			$("#content").append('<p>Resource: ' + uri + '</p>');
			$("#content").append('<p>Semantic View: ' + '<a href="../semview/agent.htm?id='+ID+'">Semantic View</a>' + '</p>');
			$("#content").append('<p>Data: ' + '<a href="http://'+servlethost+'/api/v1/agents/'+ID+'.json">JSON</a> <a href="http://'+servlethost+'/api/v1/agents/'+ID+'.xml">XML</a> <a href="http://'+servlethost+'/api/v1/agents/'+ID+'.rdf">RDF</a> <a href="http://'+servlethost+'/api/agents/'+ID+'.ttl">TTL</a> <a href="http://'+servlethost+'/api/v1/agents/'+ID+'.n3">N-Triples</a> <a href="http://'+servlethost+'/api/v1/agents/'+ID+'.jsonld">JSON-LD</a> <a href="http://'+servlethost+'/api/v1/agents/'+ID+'.ttl">TTL</a>' + '</p>');
			var details = response.agent;
			for (var item in details) {
				$("#content").append('<h3>'+item+': ' + details[item] + '</h3>');
			}
	    }
	});
});
</script>
</head>
<body>
<div id="content"></div>
</body>
</html>